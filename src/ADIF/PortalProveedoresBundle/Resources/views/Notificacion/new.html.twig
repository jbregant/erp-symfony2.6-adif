{% extends '::base.html.twig' %}

{% set edit = form.vars.value.id != null %}

{% block javascripts %}
    {{ parent() }}
    <script src="{{ asset('js/custom//portalproveedores/notificacion/new.js') }}" ></script>

    <script>
        var editar = '{{ edit }}';
    </script>
{% endblock %}

{% block body -%}
    <div class="portlet box blue">
        <div class="portlet-title">
            <div class="caption">Notificacion</div>
            
            <div class="tools">
                <a href="javascript:;" class="collapse">
                </a>
            </div>
        </div>
        <div class="portlet-body form">
        {{ form_start(form, {'attr': {'class' : 'horizontal-form','novalidate': 'novalidate'} }) }}
        
        {% include ':Form:fieldsErrors.html.twig' %}
         
            {% if edit %} 
                <input type="hidden" name="_method" value="PUT" />
            {% endif %} 
            
            <div class="form-body">
                <div class="row">                                    
                    <div class="col-md-6">
                        <div class="form-group">
                            {{ form_label(form.titulo) }}
                                <div class="input-icon right">
                                    <i class="fa"></i>
                                    {% if edit %} 
                                        {{ form_widget(form.titulo, { 'attr': { 'readonly': 'true' } }) }}
                                    {% else %} 
                                        {{ form_widget(form.titulo) }}
                                    {% endif %}
                                </div>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-3">
                        <div class="form-group">
                            {{ form_label(form.fechaDesde) }}
                                <div class="input-icon right">
                                    <i class="fa"></i>
                                    {{ form_widget(form.fechaDesde) }}
                                </div>
                        </div>
                    </div>

                    <div class="col-md-3">
                        <div class="form-group">
                            {{ form_label(form.fechaHasta) }}
                                <div class="input-icon right">
                                    <i class="fa"></i>
                                    {{ form_widget(form.fechaHasta) }}
                                </div>
                        </div>
                    </div>
                </div>
                    
                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            {{ form_label(form.mensaje) }}
                                <div class="input-icon right">
                                    <i class="fa"></i>
                                        {{ form_widget(form.mensaje) }}
                                </div>
                        </div>
                    </div>
                </div>

                <div class="row">
                    <div class="col-md-6">
                        <div class="form-group">
                            {{ form_label(form.estadoNotificacion) }}
                                <div class="input-icon right">
                                    <i class="fa"></i>
                                    {% if edit %} 
                                        {{ form_widget(form.estadoNotificacion) }}
                                    {% else %} 
                                        {{ form_widget(form.estadoNotificacion, { 'attr': { 'class': 'hidden' } } ) }}
                                    {% endif %}
                                </div>
                        </div>
                    </div>

                    <div class="col-md-6">
                        <div class="form-group">
                            {{ form_label(form.autor) }}
                                <div class="input-icon right">
                                    <i class="fa"></i>
                                    {{ form_widget(form.autor, {'value' : app.user.username}) }}
                                </div>
                        </div>
                    </div>
                </div>

                <div class="col-md-6"> 
                        <div class="form-group"> 
                            {{ form_label(form.idUsuarioCreacion) }} 
                                <div class="input-icon right"> 
                                    <i class="fa"></i> 
                                    {{ form_widget(form.idUsuarioCreacion) }} 
                                </div> 
                        </div> 
                    </div> 
                     
                                                        <div class="col-md-6"> 
                        <div class="form-group"> 
                            {{ form_label(form.idUsuarioUltimaModificacion) }} 
                                <div class="input-icon right"> 
                                    <i class="fa"></i> 
                                    {{ form_widget(form.idUsuarioUltimaModificacion) }} 
                                </div> 
                        </div> 
                    </div> 
            </div>                

            <div class="form-actions">
                <div class="pull-left">
                    <button type="button" class="btn default button-back" 
                            back-url="{{ path('notificacion') }}">Cancelar</button>
                </div>
                <div class="pull-right">
                    {{ form_widget(form.submit, {'attr': {'class': 'btn blue'}}) }}
                </div>
            </div>
                
            {{ form_widget(form._token) }}
        
            {{ form_end(form, {"render_rest": false}) }}
        </div>
    </div>
{% endblock %}
